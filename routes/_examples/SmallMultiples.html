<div class="input-container" style="height:10%;margin-bottom:2%">
	  <label><input type="radio" bind:group=whichScale value="individual"/> Individual scale</label>
		<label><input type="radio" bind:group=whichScale value="shared"/> Shared scale</label>
</div>
<div class="chart-container" ref:chart style="height:88%"></div>

<script>
import { default as LayerCake, newDiv } from 'layercake';
import pointSeries from '../../data/pointSeries.js';
import Line from '../../components/Line.html';

export default {
	data () {
		return {
			whichScale: 'individual'
		};
	},
	oncreate () {
		pointSeries.forEach(point => {
			const styles = {
				position: 'relative',
				display: 'inline-block',
				width: '11%',
				height: '30%'
			};

			const myDiv = newDiv('my-div', styles, this.refs.chart);

			const myCake = new LayerCake({
				padding: { top: 2, right: 6, bottom: 2, left: 6 },
				x: 'x',
				y: 'y',
				data: point,
				target: myDiv
			})
				.svgLayers([
					{ component: Line, opts: { stroke: '#000' } }
				]);

			this.on('state', ({ changed, current }) => {
				if (changed.whichScale === true) {
					console.log(current.whichScale);
				}
			});

			myCake.render();
		});
	}
};
</script>
